<!DOCTYPE html>
<html>
<head>
<title>Bee Game 3D</title>
<style>
body{margin:0;overflow:hidden;font-family:Arial}
#top{position:fixed;top:10px;left:50%;transform:translateX(-50%);
background:rgba(0,0,0,.8);color:#fff;padding:10px 20px;border-radius:10px;
display:flex;gap:20px;z-index:10}
#inv{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
background:rgba(0,0,0,.85);padding:10px;border-radius:10px;display:flex;gap:10px;z-index:10}
.slot{width:60px;height:60px;background:#222;border:2px solid #555;border-radius:6px;
display:flex;align-items:center;justify-content:center;color:white;font-size:11px}
.item{width:50px;height:50px;border-radius:50%;cursor:grab;
display:flex;align-items:center;justify-content:center;font-size:10px}
.basic{background:#eee}
.rare{background:#4fc3f7}
.epic{background:#ab47bc}
#msg{position:fixed;bottom:90px;left:50%;transform:translateX(-50%);
background:rgba(0,0,0,.8);color:white;padding:10px 20px;border-radius:10px;display:none}
</style>
</head>
<body>

<div id="top">
üåº <span id="pollen">0</span>/<span id="cap">100</span>
üçØ <span id="honey">0</span>
üêù <span id="beeCount">0</span>
</div>

<div id="msg"></div>

<div id="inv">
<div class="slot"><div class="item basic" draggable="true" data-type="basic">Basic</div></div>
<div class="slot"><div class="item rare" draggable="true" data-type="rare">Rare</div></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script>
/* SCENE */
const scene=new THREE.Scene();
scene.background=new THREE.Color(0x87ceeb);
const cam=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,.1,1000);
cam.position.set(0,10,20);
const r=new THREE.WebGLRenderer({antialias:true});
r.setSize(innerWidth,innerHeight);
document.body.appendChild(r.domElement);
scene.add(new THREE.AmbientLight(0xffffff,.6));
const sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(10,30,10);scene.add(sun);

/* GROUND */
const ground=new THREE.Mesh(new THREE.PlaneGeometry(500,500),
new THREE.MeshStandardMaterial({color:0x4caf50}));
ground.rotation.x=-Math.PI/2;scene.add(ground);

/* PLAYER */
const player=new THREE.Mesh(new THREE.BoxGeometry(1,1,1),
new THREE.MeshStandardMaterial({color:0xffff00}));
player.position.y=.5;scene.add(player);

/* STATS */
let pollen=0,cap=100,honey=0;
const bees=[];

/* ZONES */
const zones=[];
[[0,0],[30,0],[-30,0],[0,30],[0,-30],[60,0]].forEach((p,i)=>{
const z=new THREE.Mesh(new THREE.BoxGeometry(20,.1,20),
new THREE.MeshStandardMaterial({color:0x66ff66+i*2000}));
z.position.set(p[0],.05,p[1]);scene.add(z);zones.push(z);
});

/* HIVE */
const hiveSlots=[];
for(let i=0;i<5;i++){
const s=new THREE.Mesh(new THREE.BoxGeometry(1,1,.3),
new THREE.MeshStandardMaterial({color:0xffffff}));
s.position.set(i*1.3-3,1.5,-60);
scene.add(s);hiveSlots.push(s);
}

/* BEAR */
const bear=new THREE.Mesh(new THREE.BoxGeometry(2,2,2),
new THREE.MeshStandardMaterial({color:0x3e2723}));
bear.position.set(-40,1,-40);scene.add(bear);
let questDone=false;

/* BEES */
function spawnBee(type){
const stars=type==="basic"?1:type==="rare"?3:5;
const b=new THREE.Mesh(new THREE.SphereGeometry(.3,16,16),
new THREE.MeshStandardMaterial({color:0xffeb3b}));
b.stars=stars;
scene.add(b);bees.push(b);
}

/* INPUT */
const keys={};
onkeydown=e=>keys[e.key.toLowerCase()]=true;
onkeyup=e=>keys[e.key.toLowerCase()]=false;

/* INVENTORY DRAG */
document.querySelectorAll(".item").forEach(it=>{
it.ondragstart=e=>e.dataTransfer.setData("type",it.dataset.type);
});

/* DROP ‚Üí HIVE */
onmouseup=()=>{
hiveSlots.forEach(s=>{
if(player.position.distanceTo(s.position)<4){
spawnBee("basic");
msg("üê£ Bee Hatched!");
}
});
};

/* UI */
const m=document.getElementById("msg");
function msg(t){m.innerText=t;m.style.display="block";setTimeout(()=>m.style.display="none",1500);}

/* LOOP */
function loop(){
requestAnimationFrame(loop);

if(keys.w)player.position.z-=.3;
if(keys.s)player.position.z+=.3;
if(keys.a)player.position.x-=.3;
if(keys.d)player.position.x+=.3;

cam.position.x=player.position.x;
cam.position.z=player.position.z+20;
cam.lookAt(player.position);

zones.forEach(z=>{
if(player.position.distanceTo(z.position)<5 && pollen<cap){
let rate=1;
bees.forEach(b=>rate+=b.stars*.1);
pollen+=rate;
}
});

if(pollen>=10){pollen-=10;honey++;}

if(!questDone && pollen>=50){
questDone=true;honey+=10;
msg("üêª Quest complete! +10 Honey");
}

bees.forEach((b,i)=>{
b.position.set(player.position.x+Math.sin(i)*2,1,
player.position.z+Math.cos(i)*2);
});

document.getElementById("pollen").innerText=Math.floor(pollen);
document.getElementById("cap").innerText=cap;
document.getElementById("honey").innerText=honey;
document.getElementById("beeCount").innerText=bees.length;

r.render(scene,cam);
}
loop();

onresize=()=>{
cam.aspect=innerWidth/innerHeight;
cam.updateProjectionMatrix();
r.setSize(innerWidth,innerHeight);
};
</script>
</body>
</html>
